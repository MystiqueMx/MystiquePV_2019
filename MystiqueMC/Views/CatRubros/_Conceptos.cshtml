@model  List<MystiqueMC.Models.Rubros.ConceptosGastosViewModel>
@if (Model != null)
{
	<table class="table table-bordered responsive no-wrap" width="100%">
	<thead>
		<tr>
			<th>&nbsp;</th>
			<th>
				Gasto
			</th>

			<th style="text-align:right">
				Ponderación (%)
			</th>
			<th class="text-right " data-orderable="false"></th>
		</tr>
	</thead>
	<tbody>
		@if (Model.Count > 0)
		{
			foreach (var item in Model)
			{
				<tr>
					<td>&nbsp;</td>
					<td>
						@Html.DisplayFor(modelItem => item.Descripcion)
					</td>

					<td style="text-align:right">
						@Html.DisplayFor(modelItem => item.Ponderacion)
					</td>
					<td class="text-right">
						<a onclick="ShowEditModal(@item.IdCatConceptoGasto)" class="href-gray m-r-sm" data-tippy="Editar"><img src="~/Content/img/editar.png" /></a>
						<a href="@Url.Action("Delete", "CatConceptosGastos", new {id = item.IdCatConceptoGasto})" class="href-gray m-r-sm" data-tippy="Desactivar"><img src="~/Content/img/borrar.png" /></a>
					</td>
				</tr>
			}
		}
		else
		{
			<tr>
				<td colspan="3">No hay información</td>
			</tr>
		}
	</tbody>
</table>
}
<script>
	function ShowEditModal(idCatConcepto) {

			$('#b_modal_title').text('Editar Puesto');

			$.ajax({
				type: "Get",
				url: '@Url.Action("ModalEditConcepto", "CatRubros")',
				data: { id: idCatConcepto },
				success: function (result) {
					if (result.success != null) {
						if (result.message != null) {
							ShowAlert('danger', 'Error', result.message, "Aceptar");

						} else {
							ShowAlert('warning', 'Aviso', 'Registro no encontrado.', "Aceptar");
						}
					} else {
						$('#modal_body_preview').html(result);
						$('#modal_generic').modal('show');
					}
				},
				error: function (xhr, ajaxOptions, thrownError) {
					ShowAlert('danger', 'Error', ' Ocurrió un error, favor de contactar al administrador.', "Aceptar");
				}
			});
		}

</script>